# 安装指南

## 快速开始

### 1. 准备图标文件（可选）

插件需要图标文件才能正常显示。如果没有图标，可以：

**方法一：使用在线工具生成**
- 访问 https://www.favicon-generator.org/ 或类似网站
- 上传或创建一个下载相关的图标
- 下载不同尺寸的图标文件
- 将文件重命名为 `icon16.png`, `icon32.png`, `icon48.png`, `icon128.png`
- 放入 `icons/` 文件夹

**方法二：使用占位图标**
- 可以暂时使用纯色图片作为占位符
- 插件功能不受影响，只是工具栏图标会显示默认样式

### 2. 加载插件到 Chrome

1. 打开 Chrome 浏览器
2. 在地址栏输入 `chrome://extensions/` 并回车
3. 开启右上角的 **"开发者模式"** 开关
4. 点击 **"加载已解压的扩展程序"** 按钮
5. 选择本项目文件夹（`chrome_plugins`）
6. 插件安装完成！

### 3. 使用插件

1. 安装后，Chrome 工具栏会显示插件图标
2. 点击图标打开下载管理器
3. 查看所有下载记录
4. 已删除的文件会显示 "已删除" 标记
5. 未删除的文件可以点击打开

## 功能说明

### 主要功能

- ✅ **查看下载历史** - 显示所有下载记录，按时间倒序排列
- ✅ **文件状态检测** - 自动检测文件是否已删除
- ✅ **搜索功能** - 点击搜索图标，输入文件名快速查找
- ✅ **打开文件** - 点击文件项或"打开文件"链接
- ✅ **打开下载文件夹** - 点击文件夹图标打开默认下载目录

### 界面说明

- **标题栏**：显示"下载"标题和操作按钮
- **搜索框**：点击搜索图标显示/隐藏搜索框
- **文件列表**：显示文件名、大小、下载时间和状态
- **文件图标**：根据文件类型显示不同颜色的图标
- **状态标记**：已删除的文件显示红色"已删除"文字

## 权限说明

插件需要以下权限：

- `downloads` - 访问下载历史记录
- `downloads.open` - 打开下载的文件

这些权限仅用于显示和管理下载记录，不会上传任何数据。

## 故障排除

### 插件无法加载

- 确保所有文件都在正确的文件夹中
- 检查 `manifest.json` 文件格式是否正确
- 查看 Chrome 扩展页面是否有错误提示

### 无法显示下载记录

- 确保已授予下载权限
- 检查 Chrome 是否有下载历史记录
- 查看浏览器控制台是否有错误信息（F12）

### 文件状态不准确

- Chrome 的 `exists` 属性可能不是实时更新的
- 如果文件被手动删除，状态可能需要刷新页面才能更新
- 某些情况下，Chrome 可能无法准确检测文件状态

## 开发说明

### 项目结构

```
chrome_plugins/
├── manifest.json          # 插件配置文件
├── popup.html            # 弹出窗口HTML
├── popup.css             # 样式文件
├── popup.js              # 主要逻辑
├── icons/                # 图标文件夹
│   └── README.md         # 图标说明
├── README.md             # 项目说明
└── INSTALL.md            # 安装指南（本文件）
```

### 技术栈

- Chrome Extensions API (Manifest V3)
- Chrome Downloads API
- 原生 JavaScript (ES6+)
- CSS3

### 后续开发计划

- [ ] 添加文件预览功能
- [ ] 实现批量操作（删除、打开等）
- [ ] 添加设置页面（清理记录、显示数量等）
- [ ] 支持自定义主题
- [ ] 添加文件类型过滤
- [ ] 实现固定窗口功能

